import{u as S,s as k,a as C,w as y,g as I,b as F,_ as h,o,c as p,r as $,d as T,e as D,f as l,h as _,i as r,j as m,t as f,F as w,k as P,l as b,B as L,m as N,p as V,n as x,q as v,D as E,v as G,x as j}from"./index-D6lli2F4.js";function q(a){var s,e;return{id:a.id.toString(),name:a.name,image:(e=(s=a.sprites.other)==null?void 0:s.showdown)==null?void 0:e.front_default,types:a.types.map(n=>n.type.name),stats:a.stats,cries:a.cries,height:a.height,weight:a.weight}}const A=async()=>{const a=S(),{pokemonTeamData:t,pokemonTeam:s}=k(a),e=F,{data:n,isLoading:i,isError:c,refetch:g}=await C(()=>{const d=s.value.map(u=>I(e,{id:u}));return Promise.all(d)});return y(s,async()=>{await g()},{immediate:!1}),y(()=>n.value,d=>{if(!d)return null;const u=d.map(B=>q(B));a.setPokemonTeamData(u)},{immediate:!0}),{pokemonTeamData:t,isLoading:i,isError:c,refetch:g}},z={},H={class:"tag caption"};function J(a,t){return o(),p("span",H,[$(a.$slots,"default",{},void 0)])}const K=h(z,[["render",J],["__scopeId","data-v-232d7410"]]),M=a=>(V("data-v-5fab94c0"),a=a(),x(),a),O=["src","alt"],Q={class:"card__content"},U={class:"card__title"},W={class:"card__id h4"},X={class:"card__types"},Y=M(()=>r("h3",{class:"card__types-title h4"},"Types",-1)),Z={class:"card__types-tags"},R={class:"card__actions"},aa=["src"],ta=T({__name:"CardTeam",props:{id:{},name:{},image:{},types:{},stats:{},cries:{}},setup(a){const t=D();function s(){t.value&&t.value.play()}return(e,n)=>(o(),l(N,{class:"card"},{default:_(()=>[r("img",{class:"card__image",src:e.image,alt:`Pokemon ${e.name} image`},null,8,O),r("div",Q,[r("h2",U,[m(f(e.name)+" ",1),r("span",W,"#"+f(e.id),1)]),r("div",X,[Y,r("div",Z,[(o(!0),p(w,null,P(e.types,i=>(o(),l(K,{class:"card__types-tag caption",key:i},{default:_(()=>[m(f(i),1)]),_:2},1024))),128))])])]),r("div",R,[b(L,{class:"card__sound",onClick:s},{default:_(()=>[m("Sound")]),_:1}),r("audio",{ref_key:"audioRef",ref:t,src:e.cries.latest},null,8,aa)])]),_:1}))}}),ea=h(ta,[["__scopeId","data-v-5fab94c0"]]),sa=T({__name:"TeamPage",async setup(a){let t,s;[t,s]=v(()=>G()),await t,s();const{pokemonTeamData:e}=([t,s]=v(()=>A()),t=await t,s(),t);return(n,i)=>(o(),l(E,null,{default:_(()=>[(o(!0),p(w,null,P(j(e),c=>(o(),l(ea,{class:"card-team",key:c.id,id:c.id,name:c.name,image:c.image,types:c.types,stats:c.stats,cries:c.cries},null,8,["id","name","image","types","stats","cries"]))),128))]),_:1}))}}),ra=h(sa,[["__scopeId","data-v-d704a6f0"]]);export{ra as default};
